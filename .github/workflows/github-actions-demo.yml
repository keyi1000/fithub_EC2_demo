on: [push]
jobs:
  my_first_job:
    name: API_Keyの取得と表示
    runs-on: ubuntu-latest
    steps:
      - name: Set up API Key
        run: echo "API_KEY=${{ secrets.API_KEY }}" >> $GITHUB_ENV

      - name: Check if API_KEY is set
        run: |
          if [ -z "$API_KEY" ]; then
            echo "API_KEY is NOT set"
            exit 1
          else
            echo "API_KEY is set"
          fi

  my_second_job:
    name: My second job
    runs-on: ubuntu-latest
    steps:
      - name: Hello World
        run: echo "Hello from my second job"